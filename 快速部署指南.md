# âš¡ Railway å¿«é€Ÿéƒ¨ç½²æŒ‡å—ï¼ˆ3åˆ†é’Ÿï¼‰

## ğŸ¯ ä¸€é”®éƒ¨ç½²æµç¨‹

### å‡†å¤‡é˜¶æ®µï¼ˆ1åˆ†é’Ÿï¼‰

#### 1. ç”Ÿæˆå®‰å…¨å¯†é’¥
```bash
python generate_keys.py
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
============================================================
ğŸ” Railway éƒ¨ç½²å¯†é’¥ç”Ÿæˆå™¨
============================================================

SECRET_KEY:
a1b2c3d4e5f6...ï¼ˆ64ä¸ªå­—ç¬¦ï¼‰

JWT_SECRET_KEY:
x9y8z7w6v5u4...ï¼ˆ64ä¸ªå­—ç¬¦ï¼‰

============================================================
ğŸ“‹ è¯·å°†ä¸Šè¿°å¯†é’¥å¤åˆ¶åˆ° Railway ç¯å¢ƒå˜é‡ä¸­
============================================================
```

ğŸ“‹ **å°†è¿™ä¸¤ä¸ªå¯†é’¥å¤åˆ¶åˆ°è®°äº‹æœ¬ï¼Œå¾…ä¼šè¦ç”¨ï¼**

#### 2. æäº¤ä»£ç åˆ° GitHub
```bash
git add .
git commit -m "å‡†å¤‡éƒ¨ç½²åˆ° Railway"
git push origin main
```

---

### Railway éƒ¨ç½²ï¼ˆ2åˆ†é’Ÿï¼‰

#### æ­¥éª¤ 1: åˆ›å»ºé¡¹ç›®ï¼ˆ30ç§’ï¼‰
1. æ‰“å¼€ https://railway.app
2. ç‚¹å‡» **New Project**
3. é€‰æ‹© **Deploy from GitHub repo**
4. é€‰æ‹©ä½ çš„ä»“åº“ï¼ˆAICodingï¼‰

#### æ­¥éª¤ 2: æ·»åŠ æ•°æ®åº“ï¼ˆ10ç§’ï¼‰
1. ç‚¹å‡» **+ New**
2. é€‰æ‹© **Database** â†’ **Add PostgreSQL**

#### æ­¥éª¤ 3: é…ç½®ç¯å¢ƒå˜é‡ï¼ˆ1åˆ†é’Ÿï¼‰
1. ç‚¹å‡»ä½ çš„ Web Service
2. é€‰æ‹© **Variables** æ ‡ç­¾
3. ç‚¹å‡» **+ New Variable** æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

```
DATABASE_URI       = ${{Postgres.DATABASE_URL}}
SECRET_KEY         = <ç²˜è´´åˆšæ‰ç”Ÿæˆçš„ SECRET_KEY>
JWT_SECRET_KEY     = <ç²˜è´´åˆšæ‰ç”Ÿæˆçš„ JWT_SECRET_KEY>
ADMIN_USERNAME     = admin
ADMIN_PASSWORD     = <è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼Œè‡³å°‘8ä½>
```

ğŸ’¡ **é‡è¦**ï¼š`DATABASE_URI` çš„å€¼å¿…é¡»æ˜¯ `${{Postgres.DATABASE_URL}}`ï¼ˆä¸è¦æ”¹ï¼‰

#### æ­¥éª¤ 4: ç­‰å¾…éƒ¨ç½²ï¼ˆ30ç§’ï¼‰
- Railway ä¼šè‡ªåŠ¨å¼€å§‹æ„å»º
- çœ‹åˆ°ç»¿è‰²çš„ **Active** çŠ¶æ€å°±æˆåŠŸäº†ï¼

#### æ­¥éª¤ 5: è·å–åŸŸåï¼ˆ10ç§’ï¼‰
1. ç‚¹å‡» **Settings** æ ‡ç­¾
2. æ‰¾åˆ° **Domains** éƒ¨åˆ†
3. ç‚¹å‡» **Generate Domain**
4. å¤åˆ¶ä½ çš„åŸŸåï¼ˆå¦‚ï¼š`your-app.railway.app`ï¼‰

---

## âœ… éªŒè¯éƒ¨ç½²

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼ˆæ›¿æ¢ä¸ºä½ çš„åŸŸåï¼‰ï¼š

```
https://your-app.railway.app/api/feedback
```

**çœ‹åˆ° JSON å“åº”å°±æˆåŠŸäº†ï¼** ğŸ‰

ç¤ºä¾‹å“åº”ï¼š
```json
{
  "items": [],
  "pagination": {
    "page": 1,
    "size": 10,
    "total": 0
  }
}
```

---

## ğŸ§ª å¿«é€Ÿæµ‹è¯•

### æµ‹è¯•ç®¡ç†å‘˜ç™»å½•
```bash
curl -X POST https://your-app.railway.app/api/admin/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"ä½ è®¾ç½®çš„å¯†ç "}'
```

### æµ‹è¯•åˆ›å»ºåé¦ˆ
```bash
curl -X POST https://your-app.railway.app/api/feedback \
  -H "Content-Type: application/json" \
  -d '{
    "username": "å¼ ä¸‰",
    "email": "zhangsan@example.com",
    "content": "è¿™æ˜¯ä¸€æ¡æµ‹è¯•åé¦ˆ"
  }'
```

### æµ‹è¯•åˆ›å»ºä»»åŠ¡
```bash
curl -X POST https://your-app.railway.app/api/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "title": "å®Œæˆä½œä¸š",
    "description": "æ•°å­¦ä½œä¸šç¬¬10é¡µ"
  }'
```

---

## ğŸ“± ä½¿ç”¨ä½ çš„ API

ä½ çš„åç«¯ API ç°åœ¨å·²ç»åœ¨çº¿äº†ï¼åŸºç¡€ URLï¼š

```
https://your-app.railway.app
```

### ä¸»è¦ç«¯ç‚¹

| åŠŸèƒ½ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| åé¦ˆåˆ—è¡¨ | GET | `/api/feedback` | è·å–æ‰€æœ‰åé¦ˆ |
| æäº¤åé¦ˆ | POST | `/api/feedback` | åˆ›å»ºæ–°åé¦ˆ |
| ä»»åŠ¡åˆ—è¡¨ | GET | `/api/tasks` | è·å–æ‰€æœ‰ä»»åŠ¡ |
| åˆ›å»ºä»»åŠ¡ | POST | `/api/tasks` | åˆ›å»ºæ–°ä»»åŠ¡ |
| ç®¡ç†å‘˜ç™»å½• | POST | `/api/admin/login` | è·å– JWT ä»¤ç‰Œ |

å®Œæ•´ API æ–‡æ¡£ï¼š
- [æ¥å£æ–‡æ¡£.md](æ¥å£æ–‡æ¡£.md)
- [å¾…åŠäº‹é¡¹APIæ–‡æ¡£.md](å¾…åŠäº‹é¡¹APIæ–‡æ¡£.md)

---

## ğŸ”„ æ›´æ–°åº”ç”¨

ä¿®æ”¹ä»£ç åï¼Œåªéœ€ï¼š

```bash
git add .
git commit -m "æ›´æ–°æè¿°"
git push
```

Railway ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼âš¡

---

## ğŸ é¢å¤–åŠŸèƒ½

### è‡ªå®šä¹‰åŸŸå
1. Railway â†’ Settings â†’ Domains â†’ Add Custom Domain
2. åœ¨ä½ çš„åŸŸå DNS ä¸­æ·»åŠ  CNAME è®°å½•

### æŸ¥çœ‹æ—¥å¿—
Railway Dashboard â†’ é€‰æ‹©æœåŠ¡ â†’ Logs æ ‡ç­¾

### æŸ¥çœ‹æ€§èƒ½
Railway Dashboard â†’ é€‰æ‹©æœåŠ¡ â†’ Metrics æ ‡ç­¾

---

## â“ é‡åˆ°é—®é¢˜ï¼Ÿ

### éƒ¨ç½²å¤±è´¥
ğŸ‘‰ æŸ¥çœ‹ Railway çš„ **Deployments** æ ‡ç­¾ï¼Œç‚¹å‡»å¤±è´¥çš„éƒ¨ç½²æŸ¥çœ‹æ—¥å¿—

### 502 Bad Gateway
ğŸ‘‰ ç­‰å¾… 1-2 åˆ†é’Ÿï¼ŒæœåŠ¡å¯èƒ½è¿˜åœ¨å¯åŠ¨ä¸­

### æ•°æ®åº“è¿æ¥å¤±è´¥
ğŸ‘‰ ç¡®è®¤ `DATABASE_URI` è®¾ç½®ä¸º `${{Postgres.DATABASE_URL}}`

### è®¤è¯å¤±è´¥
ğŸ‘‰ æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®

æ›´å¤šå¸®åŠ©ï¼š[DEPLOYMENT_CHECKLIST.md](DEPLOYMENT_CHECKLIST.md)

---

## ğŸ’° è´¹ç”¨è¯´æ˜

- **å…è´¹é¢åº¦**ï¼š$5/æœˆ
- **é¢„è®¡æˆæœ¬**ï¼š
  - å°æµé‡ï¼šå…è´¹é¢åº¦è¶³å¤Ÿ
  - ä¸­ç­‰æµé‡ï¼š$5-10/æœˆ
  - é«˜æµé‡ï¼š$10-20/æœˆ

æ¯” Heroku ä¾¿å®œ **75%**ï¼

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- ğŸ“š [è¯¦ç»†éƒ¨ç½²æŒ‡å—](Railwayéƒ¨ç½²æŒ‡å—.md)
- âœ… [éƒ¨ç½²æ£€æŸ¥æ¸…å•](DEPLOYMENT_CHECKLIST.md)
- ğŸŒ [Railway å®˜æ–¹æ–‡æ¡£](https://docs.railway.app/)

---

## ğŸ‰ æ­å–œï¼

ä½ çš„ Flask åº”ç”¨å·²ç»æˆåŠŸéƒ¨ç½²åˆ°äº‘ç«¯äº†ï¼

**è®°ä½ä½ çš„ä¿¡æ¯**ï¼š
- ğŸŒ åº”ç”¨åŸŸåï¼šhttps://your-app.railway.app
- ğŸ‘¤ ç®¡ç†å‘˜è´¦å·ï¼šadmin
- ğŸ” ç®¡ç†å‘˜å¯†ç ï¼šä½ è®¾ç½®çš„å¯†ç 

å¼€å§‹ä½¿ç”¨å§ï¼ğŸš€

